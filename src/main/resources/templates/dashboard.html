<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/default(scriptName='/assets/js/crevill/dashboardScript.js')}">

<th:block layout:fragment="content">
    <div class="page-body" id="dashboardDiv">
        <div class="container-fluid">
            <div class="page-title"></div>
        </div>
        <!-- Container-fluid starts-->
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 col-xl-3 col-lg-6">
                    <div class="card o-hidden">
                        <div class="bg-primary b-r-4 card-body">
                            <div class="media static-top-widget">
                                <div class="align-self-center text-center">
                                    <i data-feather="credit-card"></i>
                                </div>
                                <div class="media-body">
                                    <span class="m-0">바우처판매</span>
                                    <h4 class="mb-0 counter" th:text="${statInfo.voucherTimeLeftHour}"></h4>
                                    <i class="icon-bg" data-feather="database"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-xl-3 col-lg-6">
                    <div class="card o-hidden">
                        <div class="bg-secondary b-r-4 card-body">
                            <div class="media static-top-widget">
                                <div class="align-self-center text-center">
                                    <i data-feather="shopping-bag"></i>
                                </div>
                                <div class="media-body">
                                    <span class="m-0">매장회원</span>
                                    <h4 class="mb-0 counter" th:text="${statInfo.memberCount}"></h4>
                                    <i class="icon-bg" data-feather="shopping-bag"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-xl-3 col-lg-6">
                    <div class="card o-hidden">
                        <div class="bg-primary b-r-4 card-body">
                            <div class="media static-top-widget">
                                <div class="align-self-center text-center">
                                    <i data-feather="message-circle"></i>
                                </div>
                                <div class="media-body">
                                    <span class="m-0">예약</span>
                                    <h4 class="mb-0 counter" th:text="${statInfo.reservationCount}"></h4>
                                    <i class="icon-bg" data-feather="message-circle"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-xl-3 col-lg-6">
                    <div class="card o-hidden">
                        <div class="bg-primary b-r-4 card-body">
                            <div class="media static-top-widget">
                                <div class="align-self-center text-center">
                                    <i data-feather="user-plus"></i>
                                </div>
                                <div class="media-body">
                                    <span class="m-0">오늘 신규회원</span>
                                    <h4 class="mb-0 counter" th:text="${statInfo.todayJoinMemberCount}"></h4>
                                    <i class="icon-bg" data-feather="user-plus"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 xl-100 box-col-12">
                    <div class="widget-joins card widget-arrow">
                        <div class="row">
                            <div class="col-sm-6 pr-0">
                                <div class="media border-after-xs">
                                    <div class="align-self-center mr-3 text-left">
                                        <h6 class="mb-1">바우처판매</h6>
                                        <h4 class="mb-0">오늘</h4>
                                    </div>
                                    <div class="media-body align-self-center">
                                        <th:block th:if="${statInfo.todayArrow == 'UP'}">
                                            <i class="font-primary" data-feather="arrow-up"></i>
                                        </th:block>
                                        <th:block th:if="${statInfo.todayArrow == 'DOWN'}">
                                            <i class="font-primary" data-feather="arrow-down"></i>
                                        </th:block>
                                    </div>
                                    <div class="media-body">
                                        <h5 class="mb-0">
                                            ₩<span class="counter" th:text="${statInfo.todayVoucherSalePrice}"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 pl-0">
                                <div class="media">
                                    <div class="align-self-center mr-3 text-left">
                                        <h6 class="mb-1">바우처판매</h6>
                                        <h4 class="mb-0">월간</h4>
                                    </div>
                                    <div class="media-body align-self-center">
                                        <th:block th:if="${statInfo.monthArrow == 'UP'}">
                                            <i class="font-primary" data-feather="arrow-up"></i>
                                        </th:block>
                                        <th:block th:if="${statInfo.monthArrow == 'DOWN'}">
                                            <i class="font-primary" data-feather="arrow-down"></i>
                                        </th:block>
                                    </div>
                                    <div class="media-body pl-2">
                                        <h5 class="mb-0">
                                            ₩<span class="counter"
                                                th:text="${statInfo.lastmonthVoucherSalePrice}"></span>
                                        </h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 pr-0">
                                <div class="media border-after-xs">
                                    <div class="align-self-center mr-3 text-left">
                                        <h6 class="mb-1">바우처판매</h6>
                                        <h4 class="mb-0">주간</h4>
                                    </div>
                                    <div class="media-body align-self-center">
                                        <th:block th:if="${statInfo.weekArrow == 'UP'}">
                                            <i class="font-primary" data-feather="arrow-up"></i>
                                        </th:block>
                                        <th:block th:if="${statInfo.weekArrow == 'DOWN'}">
                                            <i class="font-primary" data-feather="arrow-down"></i>
                                        </th:block>
                                    </div>
                                    <div class="media-body">
                                        <h5 class="mb-0">
                                            ₩<span class="counter"
                                                th:text="${statInfo.lastweekVoucherSalePrice}"></span>
                                        </h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 pl-0">
                                <div class="media">
                                    <div class="align-self-center mr-3 text-left">
                                        <h6 class="mb-1">바우처판매</h6>
                                        <h4 class="mb-0">년간</h4>
                                    </div>
                                    <div class="media-body align-self-center pl-3">
                                        <th:block th:if="${statInfo.yearArrow == 'UP'}">
                                            <i class="font-primary" data-feather="arrow-up"></i>
                                        </th:block>
                                        <th:block th:if="${statInfo.yearArrow == 'DOWN'}">
                                            <i class="font-primary" data-feather="arrow-down"></i>
                                        </th:block>
                                    </div>
                                    <div class="media-body pl-2">
                                        <h5 class="mb-0">
                                            ₩<span class="counter"
                                                th:text="${statInfo.lastyearVoucherSalePrice}"></span>
                                        </h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-6 xl-50 box-col-12">
                    <div class="card">
                        <div class="card-header card-no-border">
                            <h5>본사공지</h5>
                            <div class="card-header-right">
                                <ul class="list-unstyled card-option">
                                    <li><a href="/branches/headquarterList.view"><i class="fa fa-spin fa-cog"></i></a>
                                    </li>
                                    <li><i class="view-html fa fa-code"></i></li>
                                    <li><i class="icofont icofont-maximize full-card"></i></li>
                                    <li><i class="icofont icofont-minus minimize-card"></i></li>
                                    <li><i class="icofont icofont-refresh reload-card"></i></li>
                                    <li><i class="icofont icofont-error close-card"></i></li>
                                </ul>
                            </div>
                        </div>
                        <div class="card-body new-update pt-0">
                            <div class="activity-timeline">
                                <th:block th:if="${#lists.size(noticeList) > 0}">
									<th:block th:each="list, i : ${noticeList}">
										<th:block th:if="${i.index == 0}">
										<div class="media">
											<div class="activity-line"></div>
											<div class="activity-dot-secondary"></div>
											<div class="media-body">
												<span th:text="${list.title}"></span>
												<p class="font-roboto" th:text="${list.contents}"></p>
											</div>
										</div>
										</th:block>
										<th:block th:if="${i.index != 0 && i.index % 2 == 0}">
										<div class="media">
											<div class="activity-dot-secondary"></div>
											<div class="media-body">
												<span th:text="${list.title}">크레빌이 좋습니다.
												<i class="fa fa-circle circle-dot-secondary pull-right"></i></span>
												<p class="font-roboto" th:text="${list.contents}"></p>
											</div>
										</div>
										</th:block>
										<th:block th:unless="${i.index % 2 == 0}">
										<div class="media">
											<div class="activity-dot-primary"></div>
											<div class="media-body">
												<span th:text="${list.title}"></span>
												<p class="font-roboto" th:text="${list.contents}"></p>
											</div>
										</div>
										</th:block>
									</th:block>
								</th:block>
								<th:block th:unless="${#lists.size(noticeList) > 0}">
								<div class="media">
									<div class="activity-line"></div>
									<div class="activity-dot-secondary"></div>
									<div class="media-body">
										<span>공지사항이 없습니다.</span>
										<p class="font-roboto"></p>
									</div>
								</div>	
								</th:block>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-6 xl-100 box-col-12">
					<div class="card">
						<div class="cal-date-widget card-body">
							<div class="row">
								<div class="col-xl-6 col-xs-12 col-md-6 col-sm-6">
									<div class="cal-info text-center">
										<h2 th:text="|${currentDay}|"></h2>
										<div class="d-inline-block mt-2">
											<span class="b-r-dark pr-3" th:text="|${currentMonth}월|"></span><span class="pl-3" th:text="|${currentYear}년|"></span>
										</div>
										<p class="mt-4 f-16 text-muted" th:text="${session.staffVo.storeName}"></p>
									</div>
								</div>
								<div class="col-xl-6 col-xs-12 col-md-6 col-sm-6">
									<div class="cal-datepicker">
										<div class="datepicker-here float-sm-right" data-language="en">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-6 xl-100 box-col-12">
					<div class="card">
						<div class="card-header card-no-border">
							<div class="header-top">
								<h5 class="m-0">시간대별 예약자</h5>
								<div class="card-header-right-icon">
                                    <!--추가부분 : 매장조건 지정 후 예약시간 검색-->
                                    <select class="button btn btn-primary" id="storeId" name="storeId" @change="예약검색($event)">
										<option th:each="list : ${storeList}" th:value="${list.storeId}" th:text="${list.storeNameShort}"></option>
									</select>
									<select class="button btn btn-primary" id="reservationTime" name="reservationTime" @change="예약검색($event)">
										<th:block th:each="list : ${todayReservationList}">
											<option th:text="|${list.reservationTime}시|"></option>
										</th:block>
									</select>
								</div>
							</div>
						</div>
						<div class="card-body pt-0">
							<div class="appointment-table table-responsive">
								<table class="table table-bordernone">
									<tbody>
										<tr v-for="item in list">
<!-- 											<td> -->
<!-- 												<img class="img-fluid img-40 rounded-circle mb-3" th:src="@{/assets/images/appointment/app-ent.jpg}" alt="Image description"> -->
<!-- 												<div class="status-circle bg-primary"></div> -->
<!-- 											</td> -->
                                            
											<td style="display: inline;">
												<span class="d-block" style="font-size: 13px;">{{item.reservationName}}</span>
												<em class="font-roboto">{{item.cellPhone}}</em>
											</td>
											<td>
												<p class="m-0 font-primary">{{item.reservationDate}}</p>
											</td>
											<td class="text-right">
												<div class="button btn btn-primary">
													{{item.reservationStatus}}<i class="fa fa-check-circle ml-2"></i>
												</div>
											</td>
										</tr>
                                        
<!-- 										<tr> -->
<!-- 											<td> -->
<!-- 												<img class="img-fluid img-40 rounded-circle mb-3" th:src="@{/assets/images/appointment/app-ent.jpg}" alt="Image description"> -->
<!-- 												<div class="status-circle bg-primary"></div></td> -->
<!-- 											<td class="img-content-box"><span class="d-block">김혜수</span><span -->
<!-- 												class="font-roboto">010-5555-8888</span></td> -->
<!-- 											<td> -->
<!-- 												<p class="m-0 font-primary">2021/01/20</p> -->
<!-- 											</td> -->
<!-- 											<td class="text-right"> -->
<!-- 												<div class="button btn btn-danger"> -->
<!-- 													지연<i class="fa fa-check-circle ml-2"></i> -->
<!-- 												</div> -->
<!-- 											</td> -->
<!-- 										</tr> -->
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-6 xl-100 box-col-12">
					<div class="card">
						<div class="card-header card-no-border">
                            <div class="header-top">
							<h5 class="m-0">오늘자 TRIAL CLASS 신청</h5>
								<div class="card-header-right-icon">
								<select class="button btn btn-primary" id="storeIdTrial" name="storeIdTrial">
                                    <option>판교점</option>
                                    <option>청주점</option>
                                    <option>반포점</option>
                                    <option>용산점</option>
                                    <option>대구점</option>
                                </select>
							</div>
                            </div>
						</div>
						<div class="card-body">
							<div class="user-status table-responsive">
								<table class="table table-bordernone">
									<thead>
										<tr>
											<th scope="col">회원명</th>
											<th scope="col">예약인원</th>
											<th scope="col">예약구분</th>
											<th scope="col">상태</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="list : ${reservationList}">
											<td class="f-w-600" th:text="${list.customerName}"></td>
											<td>1</td>
											<td class="font-primary" th:text="${list.voucherType}"></td>
											<td>
												<div class="span badge badge-pill pill-badge-secondary" th:text="${list.statusName}">
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-6 xl-100 box-col-12">
					<div class="card">
						<div class="card-header">
							<h5>지점 원어민 리스트</h5>
							<div class="card-header-right">
								<select class="button btn btn-primary" id="storeIdNs" name="storeIdNs">
                                    <option>판교점</option>
                                    <option>청주점</option>
                                    <option>반포점</option>
                                    <option>용산점</option>
                                    <option>대구점</option>
                                </select>
							</div>
						</div>
						<div class="card-body">
							<div class="user-status table-responsive">
								<table class="table table-bordernone">
									<thead>
										<tr>
											<th scope="col">Name</th>
											<th scope="col">National</th>
											<th scope="col">근무매장</th>
										</tr>
									</thead>
									<tbody>
										<th:block th:if="${#lists.size(nstaffList) > 0}">
										<tr th:each="list : ${nstaffList}">
											<td class="bd-t-none u-s-tb">
												<div class="align-middle image-sm-size">
													<img class="img-radius align-top m-r-15 rounded-circle" th:src="@{/common/getImage(imageIdx=${list.pictureIdx})}" alt="">
													<div class="d-inline-block">
														<h6 th:text="${list.fullName}">
															<span class="text-muted"></span>
														</h6>
													</div>
												</div>
											</td>
											<td th:text="${list.nationality}"></td>
											<td th:text="${list.storeId}"></td>
										</tr>
										</th:block>
										<th:block th:unless="${#lists.size(nstaffList) > 0}">
										<tr>
											<td colspan="3">등록된 원어민이 없습니다.</td>
										</tr>
										</th:block>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Container-fluid Ends-->
	</div>
</th:block>
</html>