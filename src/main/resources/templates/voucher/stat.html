<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default(scriptName='/assets/js/crevill/voucherStatScript.js')}">

<th:block layout:fragment="content">
	<div class="page-body" id="page-body">
		<th:block th:replace="fragments/topIconMenu :: topIconMenuFragment(${menu})"></th:block>
		<!-- Container-fluid starts-->
		<div class="container-fluid">
			<div class="row">
	            <div class="col-sm-12">
	                <div class="card">
	                    <div class="card-body btn-showcase">
	                        <button class="btn btn-square btn-outline-primary" type="button">바우처통계</button>
	                        <button class="btn btn-square btn-outline-primary" type="button">고객구성비</button>
	                        <button class="btn btn-square btn-outline-primary" type="button">회원이용률</button>
	                    </div>
	                </div>
	            </div>
	        </div>
	        <div class="form-group row">
	            <div class="col-lg-2">
	                <input class="datepicker-here form-control" type="text" data-range="true" id="searchDate"
	                	   data-multiple-dates-separator=" ~ " data-language="en"  data-date-format='yyyy-mm-dd'>
	            </div>
	            <button class="btn btn-primary" type="button" id="searchBtn">기간검색</button>
	        </div>
	        <!--유효발행 DT-->
	        <div class="row">
	            <div class="col-sm-12">
	                <div class="card">
	                    <div class="card-header">
	                        <h5>바우처통계</h5>
	                    </div>
	                    <div class="card-body">
	                        <div class="dt-ext table-responsive">
	                            <table class="display export-button" id="statTable">
	                                <thead>
	                                    <tr style="align:center;">
	                                        <th style="display: none;">정렬순서</th>
	                                        <th>지점</th>
	                                        <th>조회일수(날짜count)</th>
	                                        <th>발급시간</th>
	                                        <th>이용인원</th>
	                                        <th>환불/취소</th>
	                                        <th>소진시간</th>
	                                        <th>남은시간</th>
	                                        <th>소진비율</th>
	                                    </tr>
	                                </thead>
	                                <tbody>
	                                    <tr th:each="list : ${statList}">
	                                    	<td th:text="|${list.sortOrder}|" style="display: none;"></td>
	                                        <td th:text="${list.storeName}"></td>
	                                        <td th:text="${list.diffDate}"></td>
	                                        <td th:text="${list.totalTime}"></td>
	                                        <td th:text="${list.usePeopleCount}"></td>
	                                        <td><font color="red" th:text="${list.refundCancelCount}"></font></td>
	                                        <td th:text="${list.totalUseTime}"></td>
	                                        <td th:text="${list.totalTimeLeft}"></td>
	                                        <td th:text="|${list.usePer}%|"></td>
	                                    </tr>
	                                </tbody>
	                            </table>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	
	        <div class="row">
	            <div class="col-sm-12">
	                <div class="card">
	                    <div class="card-header">
	                        <h5>고객구성비</h5>
	                    </div>
	                    <div class="card-body">
	                        <div class="dt-ext table-responsive">
	                            <table class="display export-button">
	                                <thead>
	                                    <tr style="align:center;">
	                                        <th>지점</th>
	                                        <th>조회일수(날짜count)</th>
	                                        <th>바우처 입장고객</th>
	                                        <th>비회원 입장고객</th>
	                                        <th>1회권 입장고객</th>
	                                        <th>합계</th>
	                                    </tr>
	                                </thead>
	                                <tbody>
	                                    <tr style="align:center;" th:each="list : ${memberStatList}">
	                                        <td th:text="${list.storeName}"></td>
	                                        <td th:text="${list.diffDate}"></td>
	                                        <td th:text="${list.voucherMemberCount}"></td>
	                                        <td th:text="${list.nonMemberCount}"></td>
	                                        <td th:text="${list.shortVoucherMemberCount}"></td>
	                                        <td th:text="${list.totalMemberCount}"></td>
	                                    </tr>
	                                </tbody>
	                            </table>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	
	
	        <div class="row">
	            <div class="col-sm-12">
	                <div class="card">
	                    <div class="card-header">
	                        <h5>회원이용률</h5>
	                    </div>
	                    <div class="card-body">
	                        <div class="dt-ext table-responsive">
	                            <table class="display export-button">
	                                <thead>
	                                    <tr style="align:center;">
	                                        <th>지점</th>
	                                        <th>조회일수(날짜count)</th>
	                                        <th>예약가능인원</th>
	                                        <th>예약인원</th>
	                                        <th>노쇼</th>
	                                        <th>실제이용인원</th>
	                                    </tr>
	                                </thead>
	                                <tbody>
	                                    <tr style="align:center;" th:each="list : ${memberResStatList}">
	                                        <td th:text="${list.storeName}"></td>
	                                        <td th:text="${list.diffDate}"></td>
	                                        <td th:text="${list.reservationAvaiableCount}"></td>
	                                        <td th:text="${list.reservationCount}"></td>
	                                        <td th:text="${list.noshowCount}"></td>
	                                        <td th:text="${list.entranceCount}"></td>
	                                    </tr>
	                                </tbody>
	                            </table>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
		</div>
		<!-- Container-fluid Ends-->
	</div>
</th:block>
</html>